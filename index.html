<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Borhan AUTO PARTS CENTRE</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0f172a">
<style>
:root{--navy:#0f172a;--gold:#facc15;--light:#f8fafc;}
body{margin:0;font-family:Arial;background:var(--light);}
header{background:var(--navy);color:white;padding:15px;display:flex;justify-content:space-between;align-items:center;}
.logo{font-weight:bold;color:var(--gold);}
.search-box{padding:8px;width:60%;border-radius:6px;border:none;}
.products{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:15px;padding:15px;}
.card{background:white;padding:10px;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,0.08);}
.price{color:green;font-weight:bold;}
button{background:var(--navy);color:white;border:none;padding:8px;border-radius:6px;width:100%;cursor:pointer;}
.cart{position:fixed;right:-100%;top:0;width:90%;max-width:350px;height:100%;background:white;box-shadow:-4px 0 15px rgba(0,0,0,0.2);transition:0.4s;padding:15px;overflow:auto;z-index:999;}
.cart.active{right:0;}
.bottom-nav{position:fixed;bottom:0;width:100%;background:var(--navy);display:flex;justify-content:space-around;padding:10px 0;}
.bottom-nav button{background:none;color:white;width:auto;}
.toast{position:fixed;bottom:80px;left:50%;transform:translateX(-50%);background:var(--navy);color:white;padding:10px 20px;border-radius:30px;display:none;}
</style>
</head>
<body>

<header>
<div class="logo">Borhan AUTO PARTS</div>
<input type="text" class="search-box" placeholder="Search products..." onkeyup="searchProducts(this.value)">
</header>

<div class="products" id="productList"></div>

<div class="cart" id="cart">
<h3>Your Cart</h3>
<div id="cartItems"></div>
<div id="totalPrice"></div>
<div id="advancePrice" style="color:red;font-weight:bold;"></div>
<button onclick="checkout()">Order via WhatsApp</button>
<button onclick="closeCart()">Close</button>
</div>

<div class="bottom-nav">
<button onclick="scrollToTop()">Home</button>
<button onclick="openCart()">Cart (<span id="cartCount">0</span>)</button>
<button onclick="openWhatsApp()">WhatsApp</button>
</div>

<div class="toast" id="toast"></div>

<script>
const products=[
{name:"Yamaha Fuel Tank",price:8500},
{name:"Suzuki Brake Pad",price:1200},
{name:"Honda Headlight",price:2500},
{name:"TVS Clutch Plate",price:1800}
];

let cart=[];

function renderProducts(list){
const container=document.getElementById("productList");
container.innerHTML="";
list.forEach((p,i)=>{
container.innerHTML+=`
<div class="card">
<h4>${p.name}</h4>
<div class="price">৳ ${p.price}</div>
<button onclick="addToCart(${i})">Add to Cart</button>
</div>`;
});
}

function addToCart(index){
cart.push(products[index]);
updateCart();
showToast("Added to cart");
}

function updateCart(){
const items=document.getElementById("cartItems");
const count=document.getElementById("cartCount");
items.innerHTML="";
let total=0;
cart.forEach(item=>{
total+=item.price;
items.innerHTML+=`<div>${item.name} - ৳${item.price}</div>`;
});
count.innerText=cart.length;
document.getElementById("totalPrice").innerText="Total: ৳ "+total;
document.getElementById("advancePrice").innerText="30% Advance: ৳ "+(total*0.3);
}

function openCart(){document.getElementById("cart").classList.add("active");}
function closeCart(){document.getElementById("cart").classList.remove("active");}

function checkout(){
let total=0;
let message="Borhan AUTO PARTS Order:%0A";
cart.forEach(item=>{
total+=item.price;
message+=item.name+" - ৳"+item.price+"%0A";
});
message+="Total: ৳"+total+"%0AAdvance (30%): ৳"+(total*0.3);
window.open("https://wa.me/8801707659954?text="+message,"_blank");
}

function openWhatsApp(){window.open("https://wa.me/8801707659954","_blank");}

function searchProducts(value){
const filtered=products.filter(p=>p.name.toLowerCase().includes(value.toLowerCase()));
renderProducts(filtered);
}

function showToast(msg){
const t=document.getElementById("toast");
t.innerText=msg;
t.style.display="block";
setTimeout(()=>{t.style.display="none";},2000);
}

function scrollToTop(){window.scrollTo({top:0,behavior:"smooth"});}

renderProducts(products);

if('serviceWorker' in navigator){
navigator.serviceWorker.register('service-worker.js');
}
</script>

</body>
</html>
