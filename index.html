<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Borhan Auto Parts Centre | Premium Single Page Store</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root { --primary: #dc2626; --dark: #111827; }
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; overflow-x: hidden; }
        h1, h2, h3, h4, .brand-font { font-family: 'Rajdhani', sans-serif; }
        
        /* Glassmorphism Header */
        .glass-nav { 
            background: rgba(255, 255, 255, 0.9); 
            backdrop-filter: blur(12px); 
            -webkit-backdrop-filter: blur(12px);
            position: sticky; top: 0; z-index: 1000;
        }

        /* View Management (SPA Logic) */
        .view-section { display: none; animation: fadeIn 0.4s ease-out; }
        .view-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Animations */
        .hover-lift { transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .hover-lift:hover { transform: translateY(-5px); }
        
        .product-card { transition: all 0.3s ease; }
        .product-card:hover { transform: translateY(-8px); box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1); }
        
        /* Custom Scrollbar */
        .custom-scroll::-webkit-scrollbar { width: 6px; height: 6px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        .custom-scroll::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* Modal Transitions */
        #brand-modal { opacity: 0; pointer-events: none; transition: opacity 0.3s ease; }
        #brand-modal.active { opacity: 1; pointer-events: auto; }
        .modal-content { transform: scale(0.95); transition: transform 0.3s ease; }
        #brand-modal.active .modal-content { transform: scale(1); }
    </style>
</head>
<body class="text-slate-800 flex flex-col min-h-screen">

    <div class="bg-slate-900 text-white text-[10px] md:text-xs py-2 px-4 flex justify-between items-center font-medium tracking-wide">
        <div class="flex items-center gap-4">
            <span><i class="fa-solid fa-location-dot text-red-500 mr-1"></i> RN Road, Jashore</span>
            <span class="hidden sm:inline border-l border-slate-700 pl-4"><i class="fa-solid fa-phone text-red-500 mr-1"></i> 01983-498274</span>
        </div>
        <div class="flex items-center gap-4">
            <span class="hover:text-red-400 cursor-pointer transition">Order Tracking</span>
            <div class="flex gap-3 border-l border-slate-700 pl-4">
                <i class="fa-brands fa-facebook hover:text-blue-500 cursor-pointer"></i>
                <i class="fa-brands fa-whatsapp hover:text-green-500 cursor-pointer"></i>
            </div>
        </div>
    </div>

    <header class="glass-nav border-b border-slate-200 shadow-sm">
        <div class="container mx-auto px-4 h-20 flex justify-between items-center gap-6">
            <a href="#" onclick="switchView('home')" class="flex flex-col group cursor-pointer">
                <h1 class="text-3xl font-black text-slate-900 leading-none italic tracking-tighter group-hover:text-red-600 transition">BORHAN</h1>
                <span class="text-[10px] font-bold text-red-600 tracking-[0.2em] uppercase">Auto Parts Centre</span>
            </a>

            <div class="hidden md:flex flex-1 max-w-xl relative">
                <input type="text" id="globalSearch" placeholder="Search Pulsar, FZ-S, Gixxer parts..." 
                       class="w-full bg-slate-100 border-none rounded-full py-2.5 px-5 focus:ring-2 focus:ring-red-500 outline-none text-sm font-medium transition-all"
                       onkeyup="if(event.key === 'Enter') handleSearch(this.value)">
                <button onclick="handleSearch(document.getElementById('globalSearch').value)" class="absolute right-1 top-1 bg-white text-slate-600 p-1.5 rounded-full hover:text-red-600 transition shadow-sm">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </button>
            </div>

            <div class="flex items-center gap-6">
                <button onclick="switchView('home')" class="hidden lg:block text-sm font-bold text-slate-600 hover:text-red-600 uppercase">Home</button>
                <button onclick="switchView('catalog')" class="hidden lg:block text-sm font-bold text-slate-600 hover:text-red-600 uppercase">Shop Parts</button>
                
                <div class="flex items-center gap-5">
                    <button onclick="switchView('cart')" class="relative text-slate-700 hover:text-red-600 transition group">
                        <i class="fa-solid fa-cart-shopping text-xl group-hover:scale-110 transition-transform"></i>
                        <span id="cart-badge" class="absolute -top-2 -right-2 bg-red-600 text-white text-[10px] w-5 h-5 flex items-center justify-center rounded-full font-bold shadow-md border-2 border-white">0</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main id="view-home" class="view-section active flex-1">
        <section class="container mx-auto px-4 mt-6">
            <div class="flex flex-col lg:flex-row gap-6">
                <aside class="hidden lg:block w-72 bg-white rounded-2xl shadow-lg border border-slate-100 overflow-hidden shrink-0 h-fit">
                    <div class="bg-slate-900 text-white px-5 py-3 font-bold flex items-center gap-3">
                        <i class="fa-solid fa-bars"></i> CATEGORIES
                    </div>
                    <ul class="text-sm font-semibold text-slate-600">
                        <li class="border-b border-slate-50"><button onclick="openBrandModal('Bajaj')" class="w-full text-left px-5 py-3 hover:bg-red-50 hover:text-red-600 flex justify-between items-center transition"><span><i class="fa-solid fa-motorcycle w-6"></i> Bajaj Genuine</span> <i class="fa-solid fa-chevron-right text-xs"></i></button></li>
                        <li class="border-b border-slate-50"><button onclick="filterCatalog('Yamaha')" class="w-full text-left px-5 py-3 hover:bg-red-50 hover:text-red-600 flex justify-between items-center transition"><span><i class="fa-solid fa-bolt w-6"></i> Yamaha Genuine</span> <i class="fa-solid fa-chevron-right text-xs"></i></button></li>
                        <li class="border-b border-slate-50"><button onclick="filterCatalog('Suzuki')" class="w-full text-left px-5 py-3 hover:bg-red-50 hover:text-red-600 flex justify-between items-center transition"><span><i class="fa-solid fa-gauge-high w-6"></i> Suzuki Genuine</span> <i class="fa-solid fa-chevron-right text-xs"></i></button></li>
                        <li class="border-b border-slate-50"><button onclick="filterCatalog(null, 'Lubricants')" class="w-full text-left px-5 py-3 hover:bg-red-50 hover:text-red-600 flex justify-between items-center transition"><span><i class="fa-solid fa-oil-can w-6"></i> Engine Oils</span></button></li>
                        <li><button onclick="switchView('catalog')" class="w-full text-left px-5 py-3 text-red-600 font-bold italic hover:bg-red-50">View All Products %</button></li>
                    </ul>
                </aside>

                <div class="flex-1 h-[300px] md:h-[450px] rounded-2xl overflow-hidden relative group shadow-xl">
                    <img src="https://images.unsplash.com/photo-1558981403-c5f91cbba527?auto=format&fit=crop&w=1600" class="w-full h-full object-cover group-hover:scale-105 transition duration-700">
                    <div class="absolute inset-0 bg-gradient-to-r from-slate-900/90 via-slate-900/40 to-transparent flex flex-col justify-center px-8 md:px-16 text-white">
                        <span class="bg-red-600 w-fit px-3 py-1 rounded text-[10px] font-bold mb-4 uppercase tracking-widest animate-pulse">Official Importer</span>
                        <h2 class="text-4xl md:text-6xl font-bold mb-4 leading-none brand-font">Genuine Parts <br> No Compromise.</h2>
                        <p class="text-slate-300 text-sm md:text-lg mb-8 max-w-md">Authentic OEM components for Pulsar, FZ-S, and Gixxer directly from the source.</p>
                        <button onclick="switchView('catalog')" class="bg-red-600 hover:bg-white hover:text-red-600 text-white w-fit px-8 py-3 rounded-xl font-bold transition shadow-lg transform hover:-translate-y-1">Shop Now</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="container mx-auto px-4 mt-8">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                <div class="flex items-center gap-3"><div class="w-10 h-10 bg-red-50 rounded-full flex items-center justify-center text-red-600"><i class="fa-solid fa-truck-fast"></i></div><div><p class="font-bold text-sm">Fast Delivery</p><p class="text-[10px] text-slate-400">All Bangladesh</p></div></div>
                <div class="flex items-center gap-3"><div class="w-10 h-10 bg-red-50 rounded-full flex items-center justify-center text-red-600"><i class="fa-solid fa-certificate"></i></div><div><p class="font-bold text-sm">100% Genuine</p><p class="text-[10px] text-slate-400">Direct Import</p></div></div>
                <div class="flex items-center gap-3"><div class="w-10 h-10 bg-red-50 rounded-full flex items-center justify-center text-red-600"><i class="fa-solid fa-headset"></i></div><div><p class="font-bold text-sm">Support</p><p class="text-[10px] text-slate-400">01983-498274</p></div></div>
                <div class="flex items-center gap-3"><div class="w-10 h-10 bg-red-50 rounded-full flex items-center justify-center text-red-600"><i class="fa-solid fa-rotate-left"></i></div><div><p class="font-bold text-sm">Easy Return</p><p class="text-[10px] text-slate-400">7 Days Policy</p></div></div>
            </div>
        </section>

        <section class="container mx-auto px-4 py-12">
            <h3 class="text-2xl font-bold mb-6 brand-font text-slate-900">Popular Categories</h3>
            <div class="flex gap-6 overflow-x-auto custom-scroll pb-4">
                <div onclick="filterCatalog(null, 'Engine')" class="min-w-[120px] cursor-pointer group flex flex-col items-center">
                    <div class="w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-md border-2 border-transparent group-hover:border-red-600 transition"><i class="fa-solid fa-gears text-3xl text-slate-400 group-hover:text-red-600"></i></div>
                    <span class="mt-3 text-xs font-bold text-slate-600 uppercase tracking-wide group-hover:text-red-600">Engine</span>
                </div>
                <div onclick="filterCatalog(null, 'Body')" class="min-w-[120px] cursor-pointer group flex flex-col items-center">
                    <div class="w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-md border-2 border-transparent group-hover:border-red-600 transition"><i class="fa-solid fa-motorcycle text-3xl text-slate-400 group-hover:text-red-600"></i></div>
                    <span class="mt-3 text-xs font-bold text-slate-600 uppercase tracking-wide group-hover:text-red-600">Body</span>
                </div>
                <div onclick="filterCatalog(null, 'Electrical')" class="min-w-[120px] cursor-pointer group flex flex-col items-center">
                    <div class="w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-md border-2 border-transparent group-hover:border-red-600 transition"><i class="fa-solid fa-bolt text-3xl text-slate-400 group-hover:text-red-600"></i></div>
                    <span class="mt-3 text-xs font-bold text-slate-600 uppercase tracking-wide group-hover:text-red-600">Electrical</span>
                </div>
                <div onclick="filterCatalog(null, 'Brakes')" class="min-w-[120px] cursor-pointer group flex flex-col items-center">
                    <div class="w-24 h-24 bg-white rounded-full flex items-center justify-center shadow-md border-2 border-transparent group-hover:border-red-600 transition"><i class="fa-solid fa-circle-notch text-3xl text-slate-400 group-hover:text-red-600"></i></div>
                    <span class="mt-3 text-xs font-bold text-slate-600 uppercase tracking-wide group-hover:text-red-600">Brakes</span>
                </div>
            </div>
        </section>
    </main>

    <main id="view-catalog" class="view-section flex-1 container mx-auto px-4 py-8">
        <div class="flex flex-col md:flex-row gap-8">
            <aside class="w-full md:w-64 shrink-0">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 sticky top-24">
                    <h3 class="font-bold text-lg mb-4 border-b pb-2 brand-font">Filter By</h3>
                    
                    <div class="mb-6">
                        <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">Brand</h4>
                        <div class="space-y-2">
                            <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" onchange="toggleFilter('brand', 'Bajaj')" class="accent-red-600"> <span class="text-sm">Bajaj</span></label>
                            <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" onchange="toggleFilter('brand', 'Yamaha')" class="accent-red-600"> <span class="text-sm">Yamaha</span></label>
                            <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" onchange="toggleFilter('brand', 'Suzuki')" class="accent-red-600"> <span class="text-sm">Suzuki</span></label>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">Category</h4>
                        <div class="space-y-2">
                            <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" onchange="toggleFilter('cat', 'Engine')" class="accent-red-600"> <span class="text-sm">Engine Parts</span></label>
                            <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" onchange="toggleFilter('cat', 'Body')" class="accent-red-600"> <span class="text-sm">Body Parts</span></label>
                            <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" onchange="toggleFilter('cat', 'Electrical')" class="accent-red-600"> <span class="text-sm">Electrical</span></label>
                        </div>
                    </div>
                </div>
            </aside>

            <div class="flex-1">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold brand-font">Spare Parts Catalog</h2>
                    <span id="result-count" class="text-sm text-slate-500 font-medium">Showing all items</span>
                </div>
                
                <div id="catalog-grid" class="grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6">
                    </div>
            </div>
        </div>
    </main>

    <main id="view-product-detail" class="view-section flex-1 container mx-auto px-4 py-8">
        <button onclick="switchView('catalog')" class="mb-6 text-sm font-bold text-slate-500 hover:text-slate-900 flex items-center gap-2">
            <i class="fa-solid fa-arrow-left"></i> Back to Shop
        </button>

        <div class="bg-white rounded-3xl shadow-lg border border-slate-100 overflow-hidden flex flex-col md:flex-row">
            <div class="md:w-1/2 bg-slate-50 p-10 flex items-center justify-center">
                <img id="detail-img" src="" alt="Product" class="max-h-[400px] object-contain drop-shadow-xl hover:scale-105 transition duration-500">
            </div>
            
            <div class="md:w-1/2 p-8 md:p-12 flex flex-col justify-center">
                <span id="detail-brand" class="text-red-600 font-bold text-xs uppercase tracking-widest mb-2">BRAND</span>
                <h1 id="detail-title" class="text-3xl md:text-4xl font-black text-slate-900 mb-4 brand-font leading-tight">Product Name</h1>
                
                <div class="flex items-end gap-4 mb-6">
                    <span id="detail-price" class="text-3xl font-bold text-slate-900">৳0</span>
                    <span class="text-green-600 text-sm font-bold mb-1"><i class="fa-solid fa-check"></i> In Stock</span>
                </div>

                <p id="detail-desc" class="text-slate-500 leading-relaxed mb-8">Description goes here.</p>

                <div class="flex gap-4">
                    <div class="w-32 relative">
                        <label class="text-[10px] font-bold text-slate-400 uppercase absolute -top-2 left-2 bg-white px-1">Quantity</label>
                        <input type="number" id="detail-qty" value="1" min="1" class="w-full border-2 border-slate-200 rounded-xl py-3 px-4 font-bold text-center focus:border-red-600 outline-none">
                    </div>
                    <button id="detail-add-btn" class="flex-1 bg-slate-900 hover:bg-red-600 text-white rounded-xl font-bold py-3 transition shadow-lg flex items-center justify-center gap-2">
                        <i class="fa-solid fa-cart-plus"></i> Add to Cart
                    </button>
                </div>

                <div class="mt-8 pt-8 border-t border-slate-100 grid grid-cols-2 gap-4 text-xs font-bold text-slate-500 uppercase">
                    <div class="flex items-center gap-2"><i class="fa-solid fa-shield text-slate-300 text-lg"></i> Genuine Warranty</div>
                    <div class="flex items-center gap-2"><i class="fa-solid fa-truck text-slate-300 text-lg"></i> Express Shipping</div>
                </div>
            </div>
        </div>
    </main>

    <main id="view-cart" class="view-section flex-1 container mx-auto px-4 py-8">
        <h2 class="text-3xl font-bold brand-font mb-8">Your Shopping Cart</h2>
        
        <div class="flex flex-col lg:flex-row gap-8">
            <div id="cart-container" class="flex-1 space-y-4">
                <div class="text-center py-20 bg-white rounded-2xl border border-dashed border-slate-300">
                    <p class="text-slate-400 font-bold">Your cart is empty.</p>
                    <button onclick="switchView('catalog')" class="mt-4 text-red-600 font-bold hover:underline">Start Shopping</button>
                </div>
            </div>

            <div class="w-full lg:w-96 h-fit bg-white p-8 rounded-2xl shadow-lg border border-slate-100">
                <h3 class="font-bold text-lg mb-6">Order Summary</h3>
                <div class="flex justify-between mb-4 text-slate-600"><span>Subtotal</span> <span id="cart-subtotal" class="font-bold">৳0</span></div>
                <div class="flex justify-between mb-6 text-slate-600"><span>Shipping</span> <span class="font-bold">৳120</span></div>
                <div class="border-t border-slate-100 pt-4 flex justify-between mb-8 text-xl font-black text-slate-900"><span>Total</span> <span id="cart-total">৳0</span></div>
                
                <button onclick="alert('Proceeding to Checkout... (This is a demo)')" class="w-full bg-red-600 text-white py-4 rounded-xl font-bold hover:bg-slate-900 transition shadow-lg">
                    PROCEED TO CHECKOUT
                </button>
            </div>
        </div>
    </main>

    <footer class="bg-white border-t border-slate-200 mt-auto pt-16 pb-8">
        <div class="container mx-auto px-4 text-center">
            <h3 class="text-2xl font-black italic text-slate-900 mb-2">BORHAN AUTO</h3>
            <p class="text-slate-500 text-sm mb-6">The heart of motorcycle parts in Jashore.</p>
            <div class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">© 2026 Borhan Auto Parts Centre</div>
        </div>
    </footer>

    <div id="brand-modal" class="fixed inset-0 bg-slate-900/80 z-[2000] flex items-center justify-center p-4 backdrop-blur-sm">
        <div class="modal-content bg-white w-full max-w-lg rounded-3xl p-8 shadow-2xl relative">
            <button onclick="closeBrandModal()" class="absolute top-4 right-4 w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center hover:bg-red-600 hover:text-white transition"><i class="fa-solid fa-xmark"></i></button>
            <h3 class="text-2xl font-bold brand-font mb-1">Select <span id="modal-brand-name" class="text-red-600">Bajaj</span> Model</h3>
            <p class="text-xs text-slate-400 font-bold uppercase mb-6">Choose your bike model</p>
            
            <div id="modal-model-list" class="grid grid-cols-2 gap-3 max-h-[60vh] overflow-y-auto custom-scroll pr-2">
                </div>
        </div>
    </div>

    <a href="https://wa.me/8801983498274" target="_blank" class="fixed bottom-6 right-6 bg-green-500 text-white w-14 h-14 rounded-2xl flex items-center justify-center shadow-2xl hover:scale-110 hover:rotate-6 transition z-50 animate-bounce">
        <i class="fa-brands fa-whatsapp text-3xl"></i>
    </a>

    <script>
        // --- DATA ---
        const products = [
            { id: 1, name: "Pulsar 150 Chain Set (Original)", category: "Engine", brand: "Bajaj", price: 3500, img: "https://m.media-amazon.com/images/I/61N+tuQ-bQL.jpg", desc: "Heavy-duty authentic chain sprocket kit for Pulsar 150." },
            { id: 2, name: "Pulsar Digital Meter Assy", category: "Electrical", brand: "Bajaj", price: 4200, img: "https://5.imimg.com/data5/SELLER/Default/2022/9/BI/OZ/YJ/3739726/bajaj-pulsar-150-digital-meter.jpg", desc: "Complete speedometer unit pre-calibrated for accuracy." },
            { id: 3, name: "Yamaha FZ-S V2 Air Filter", category: "Engine", brand: "Yamaha", price: 380, img: "https://m.media-amazon.com/images/I/41-w+z8q+SL.jpg", desc: "High-flow air filter for FZ-S Fi V2/V3." },
            { id: 4, name: "Suzuki Gixxer SF Side Mirror", category: "Body", brand: "Suzuki", price: 850, img: "https://m.media-amazon.com/images/I/51G+v+rBmL.jpg", desc: "Aerodynamic mirrors for Gixxer SF series (Pair)." },
            { id: 5, name: "Bajaj DTSi Engine Oil 1L", category: "Lubricants", brand: "Bajaj", price: 550, img: "https://5.imimg.com/data5/SELLER/Default/2021/3/XO/QG/XG/3922575/bajaj-dts-i-20w50-engine-oil-500x500.jpg", desc: "20W50 Grade Engine Oil for smooth shifting." },
            { id: 6, name: "FZS V2 Headlight Assembly", category: "Electrical", brand: "Yamaha", price: 1990, img: "https://m.media-amazon.com/images/I/51wX+v+rBmL._AC_UF894,1000_QL80_.jpg", desc: "Crystal clear headlight unit for FZS V2." },
            { id: 7, name: "NGK Spark Plug (Standard)", category: "Engine", brand: "NGK", price: 180, img: "https://m.media-amazon.com/images/I/61k7y+sN3BL.jpg", desc: "Universal fit for Pulsar/Gixxer. Reliable ignition." },
            { id: 8, name: "Pulsar 150 Tank (Black)", category: "Body", brand: "Bajaj", price: 6500, img: "https://cdn-icons-png.flaticon.com/512/3256/3256676.png", desc: "Original painted fuel tank for Pulsar 150 UG5." }
        ];

        const models = [
            { name: "Pulsar 150", icon: "fa-motorcycle" },
            { name: "Pulsar NS 160", icon: "fa-bolt" },
            { name: "Discover 125", icon: "fa-gauge" },
            { name: "Platina 100", icon: "fa-leaf" }
        ];

        let cart = JSON.parse(localStorage.getItem('borhanCart')) || [];
        let activeFilters = { brand: [], cat: [] };

        // --- CORE NAVIGATION ---
        function switchView(viewId) {
            // Hide all views
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            // Show target
            document.getElementById(`view-${viewId}`).classList.add('active');
            window.scrollTo(0, 0);

            if(viewId === 'catalog') renderCatalog();
            if(viewId === 'cart') renderCart();
        }

        // --- CATALOG LOGIC ---
        function renderCatalog(filteredProducts = null) {
            const grid = document.getElementById('catalog-grid');
            const data = filteredProducts || products;
            
            document.getElementById('result-count').innerText = `Showing ${data.length} items`;

            if(data.length === 0) {
                grid.innerHTML = `<div class="col-span-full text-center py-10 text-slate-400">No products found matching your criteria.</div>`;
                return;
            }

            grid.innerHTML = data.map(p => `
                <div onclick="showProductDetail(${p.id})" class="product-card bg-white p-4 rounded-2xl border border-slate-100 cursor-pointer group h-full flex flex-col">
                    <div class="bg-slate-50 h-40 rounded-xl mb-4 flex items-center justify-center p-4">
                        <img src="${p.img}" class="h-full object-contain group-hover:scale-110 transition duration-500">
                    </div>
                    <div class="flex-1">
                        <span class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">${p.brand}</span>
                        <h4 class="font-bold text-slate-800 leading-tight mb-2 line-clamp-2">${p.name}</h4>
                    </div>
                    <div class="flex justify-between items-center mt-3 border-t border-slate-50 pt-3">
                        <span class="text-red-600 font-bold">৳${p.price.toLocaleString()}</span>
                        <div class="w-8 h-8 bg-slate-900 text-white rounded-lg flex items-center justify-center group-hover:bg-red-600 transition"><i class="fa-solid fa-plus text-xs"></i></div>
                    </div>
                </div>
            `).join('');
        }

        function filterCatalog(brand, category) {
            switchView('catalog');
            let result = products;
            
            // Checkbox logic overrides direct clicks if checkboxes are active, 
            // but for this simple version, we'll let direct clicks reset filters.
            if(brand) result = result.filter(p => p.brand === brand);
            if(category) result = result.filter(p => p.category === category);
            
            renderCatalog(result);
        }
        
        function toggleFilter(type, value) {
            // Simple toggle logic
            const index = activeFilters[type].indexOf(value);
            if(index === -1) activeFilters[type].push(value);
            else activeFilters[type].splice(index, 1);
            
            applyFilters();
        }

        function applyFilters() {
            let res = products;
            if(activeFilters.brand.length > 0) res = res.filter(p => activeFilters.brand.includes(p.brand));
            if(activeFilters.cat.length > 0) res = res.filter(p => activeFilters.cat.includes(p.category));
            renderCatalog(res);
        }

        function handleSearch(query) {
            if(!query) return;
            switchView('catalog');
            const lower = query.toLowerCase();
            const res = products.filter(p => p.name.toLowerCase().includes(lower) || p.brand.toLowerCase().includes(lower));
            renderCatalog(res);
        }

        // --- PRODUCT DETAIL LOGIC ---
        function showProductDetail(id) {
            const p = products.find(x => x.id === id);
            if(!p) return;

            document.getElementById('detail-img').src = p.img;
            document.getElementById('detail-brand').innerText = p.brand;
            document.getElementById('detail-title').innerText = p.name;
            document.getElementById('detail-price').innerText = `৳${p.price.toLocaleString()}`;
            document.getElementById('detail-desc').innerText = p.desc;
            
            // Setup Add Button
            const btn = document.getElementById('detail-add-btn');
            btn.onclick = () => {
                const qty = parseInt(document.getElementById('detail-qty').value) || 1;
                addToCart(p, qty);
            };

            switchView('product-detail');
        }

        // --- CART LOGIC ---
        function addToCart(product, qty = 1) {
            const existing = cart.find(x => x.id === product.id);
            if(existing) existing.qty += qty;
            else cart.push({ ...product, qty: qty });
            
            saveCart();
            alert(`${product.name} added to cart!`);
            updateCartBadge();
        }

        function removeFromCart(id) {
            cart = cart.filter(x => x.id !== id);
            saveCart();
            renderCart();
            updateCartBadge();
        }

        function saveCart() {
            localStorage.setItem('borhanCart', JSON.stringify(cart));
        }

        function updateCartBadge() {
            const count = cart.reduce((sum, item) => sum + item.qty, 0);
            document.getElementById('cart-badge').innerText = count;
        }

        function renderCart() {
            const container = document.getElementById('cart-container');
            
            if(cart.length === 0) {
                container.innerHTML = `<div class="text-center py-10 bg-white rounded-2xl border border-dashed border-slate-300"><p class="text-slate-400 font-bold mb-4">Cart is empty.</p><button onclick="switchView('catalog')" class="text-red-600 font-bold">Browse Parts</button></div>`;
                document.getElementById('cart-subtotal').innerText = '৳0';
                document.getElementById('cart-total').innerText = '৳0';
                return;
            }

            let subtotal = 0;
            container.innerHTML = cart.map(item => {
                const total = item.price * item.qty;
                subtotal += total;
                return `
                    <div class="flex items-center gap-4 bg-white p-4 rounded-xl border border-slate-100 shadow-sm">
                        <div class="w-16 h-16 bg-slate-50 rounded-lg flex items-center justify-center shrink-0">
                            <img src="${item.img}" class="h-12 object-contain">
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold text-slate-900 text-sm">${item.name}</h4>
                            <p class="text-xs text-slate-500">৳${item.price.toLocaleString()} x ${item.qty}</p>
                        </div>
                        <div class="text-right">
                            <p class="font-bold text-slate-900">৳${total.toLocaleString()}</p>
                            <button onclick="removeFromCart(${item.id})" class="text-[10px] text-red-500 font-bold hover:underline">REMOVE</button>
                        </div>
                    </div>
                `;
            }).join('');

            document.getElementById('cart-subtotal').innerText = `৳${subtotal.toLocaleString()}`;
            document.getElementById('cart-total').innerText = `৳${(subtotal + 120).toLocaleString()}`;
        }

        // --- MODAL LOGIC ---
        function openBrandModal(brand) {
            document.getElementById('modal-brand-name').innerText = brand;
            const list = document.getElementById('modal-model-list');
            list.innerHTML = models.map(m => `
                <div onclick="closeBrandModal(); handleSearch('${m.name}')" class="flex flex-col items-center justify-center p-4 bg-slate-50 rounded-xl hover:bg-red-50 hover:text-red-600 cursor-pointer border border-transparent hover:border-red-200 transition">
                    <i class="fa-solid ${m.icon} text-2xl mb-2"></i>
                    <span class="font-bold text-sm">${m.name}</span>
                </div>
            `).join('');
            document.getElementById('brand-modal').classList.add('active');
        }

        function closeBrandModal() {
            document.getElementById('brand-modal').classList.remove('active');
        }

        // --- INIT ---
        updateCartBadge();
    </script>
</body>
</html>
